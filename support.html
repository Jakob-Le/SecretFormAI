<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Support</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header and Navigation -->
  <header class="banner">
    <h1>GovBot</h1>
    <a href="#" id="profile-btn">
      <img src="images/mascot.png" alt="Profile" class="profile-icon" />
    </a>
  </header>

  <nav class="navbar">
    <a href="index.html" class="nav-item">Home</a>
    <a href="forms.html" class="nav-item">Forms</a>
    <a href="preparing.html" class="nav-item">Preparing</a>
    <a href="support.html" class="nav-item active">Support</a>
    <a href="chat.html" class="nav-item">Chat</a>
  </nav>

  <main class="main-content">
    <h2>Contact Support</h2>
    <form id="support-form" onsubmit="handleSupport(event)">
      <div class="input-group">
        <label for="support-name">Name:</label>
        <input type="text" id="support-name" required />
      </div>
      <div class="input-group">
        <label for="support-email">Email:</label>
        <input type="email" id="support-email" required />
      </div>
      <div class="input-group">
        <label for="support-message">Message:</label>
        <textarea id="support-message" required></textarea>
      </div>
      <button type="submit">Send</button>
    </form>
    <p id="support-response" style="text-align: center; color: green;"></p>
  </main>

  <div id="modal-container"></div>
  <script>
    fetch("modal.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("modal-container").innerHTML = html;
        const modal = document.getElementById("auth-modal");
        const profileBtn = document.getElementById("profile-btn");

        profileBtn.addEventListener("click", (e) => {
          e.preventDefault();
          modal.classList.remove("hidden");
        });

        document.querySelector(".close-button").addEventListener("click", () => modal.classList.add("hidden"));

        window.addEventListener("click", (e) => {
          if (e.target === modal) modal.classList.add("hidden");
        });
      });

    function handleSupport(e) {
      e.preventDefault();
      const name = document.getElementById("support-name").value;
      const email = document.getElementById("support-email").value;
      const message = document.getElementById("support-message").value;

      console.log("Support form submitted:", { name, email, message });

      document.getElementById("support-response").textContent =
        `Thanks ${name}! We've received your message and will be in touch.`;

      document.getElementById("support-form").reset();
    }
  </script>
</body>
</html>
