<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Banner -->
  <header class="banner">
    <h1>GovBot</h1>
    <a href="#" id="profile-btn">
      <img src="images/cat_profile.jpg" alt="Profile" class="profile-icon" />
    </a>
  </header>

  <!-- NavBar -->
  <nav class="navbar">
    <a href="index.html" class="nav-item active">Home</a>
    <a href="Forms" class="nav-item">Forms</a>
    <a href="Preparing" class="nav-item">Preparing</a>
    <a href="Support" class="nav-item">Support</a>
    <a href="chat.html" class="nav-item">Chat</a>
  </nav>

  <!-- Main  -->
  <main class="main-content">
    <section class="hero">
      <h2>Your Guide to the Government</h2>
    </section>

    <section class="section">
      <h3>What We Do</h3>
      <p>We provide simple explanations and resources to help you navigate complex government services.</p>
    </section>

    <section class="section">
      <h3>Info</h3>
      <p>Whether you need help filling out forms or understanding processes, weâ€™re here to guide you.</p>
    </section>
  </main>

  <!-- Modal -->
  <div id="modal-container"></div>
  <script>
    fetch("modal.html")
      .then((res) => res.text())
      .then((html) => {
        document.getElementById("modal-container").innerHTML = html;
        const profileBtn = document.getElementById("profile-btn");
        const modal = document.getElementById("auth-modal");
        const closeBtn = document.querySelector(".close-button");
        const switchToSignup = document.getElementById("switch-to-signup");
        const modalTitle = document.getElementById("modal-title");
        const nameField = document.getElementById("name-field");
        const authForm = document.getElementById("auth-form");
        const authSubmit = document.getElementById("auth-submit");
        let isSignup = false;

        profileBtn.addEventListener("click", function (e) {
          e.preventDefault();
          modal.classList.remove("hidden");
        });

        closeBtn.addEventListener("click", () => modal.classList.add("hidden"));
        window.addEventListener("click", (e) => {
          if (e.target === modal) modal.classList.add("hidden");
        });

        switchToSignup.addEventListener("click", function (e) {
          e.preventDefault();
          isSignup = !isSignup;
          modalTitle.textContent = isSignup ? "Sign Up" : "Login";
          authSubmit.textContent = isSignup ? "Sign Up" : "Login";
          nameField.classList.toggle("hidden", !isSignup);
          switchToSignup.textContent = isSignup ? "Back to Login" : "Sign up";
        });

        authForm.addEventListener("submit", function (e) {
          e.preventDefault();
          const name = document.getElementById("name")?.value;
          const username = document.getElementById("username").value;
          const password = document.getElementById("password").value;
          alert(isSignup ? `Signed up: ${name} (${username})` : `Logged in as: ${username}`);
          modal.classList.add("hidden");
        });
      });
  </script>
</body>
</html>
